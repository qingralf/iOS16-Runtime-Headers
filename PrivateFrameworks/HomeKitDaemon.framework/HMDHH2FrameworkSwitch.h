/* Generated by RuntimeBrowser
   Image: /System/Library/PrivateFrameworks/HomeKitDaemonLegacy.framework/HomeKitDaemonLegacy
 */

@interface HMDHH2FrameworkSwitch : HMFObject <HMBCloudDatabaseDelegate, HMBCloudZoneDelegate, HMFLogging> {
    bool  _autoFrameworkSwitch;
    id /* block */  _blockToBeCalledBeforeSwitchingFramework;
    NSObject<OS_dispatch_queue> * _callbackQueueToCheckCloudKitReachability;
    HMBCloudDatabase * _cloudDatabaseToDetectHH2Zone;
    CKContainer * _containerToCheckCloudKitReachability;
    <HMDHH2FrameworkSwitchDataSource> * _dataSource;
    HMDHomeManager * _homeManager;
    bool  _isTapToSetupOngoing;
    struct os_unfair_lock_s { 
        unsigned int _os_unfair_lock_opaque; 
    }  _lock;
    NSObject<OS_dispatch_queue> * _workQueue;
}

@property (nonatomic) bool autoFrameworkSwitch;
@property (nonatomic, copy) id /* block */ blockToBeCalledBeforeSwitchingFramework;
@property (nonatomic, retain) NSObject<OS_dispatch_queue> *callbackQueueToCheckCloudKitReachability;
@property (nonatomic, retain) HMBCloudDatabase *cloudDatabaseToDetectHH2Zone;
@property (nonatomic, retain) CKContainer *containerToCheckCloudKitReachability;
@property (nonatomic, retain) <HMDHH2FrameworkSwitchDataSource> *dataSource;
@property (readonly, copy) NSString *debugDescription;
@property (readonly, copy) NSString *description;
@property (readonly) unsigned long long hash;
@property (nonatomic) HMDHomeManager *homeManager;
@property (nonatomic) bool isTapToSetupOngoing;
@property (readonly) Class superclass;
@property (nonatomic, retain) NSObject<OS_dispatch_queue> *workQueue;

+ (id)logCategory;
+ (void)relaunchHomedAfterSettingEnvironmentTo:(bool)arg1 blockToExecuteBeforeReLaunch:(id /* block */)arg2;
+ (void)setHH2EnablementPreferenceKey:(bool)arg1;
+ (void)setHH2SettingsMigrationKey:(bool)arg1;
+ (void)switchBackToHH1AndDoNotLaunchDueToPrimaryAccountRemoval;
+ (void)switchBackToHH1AndRelaunch;
+ (void)switchBackToHH1AndRelaunchDueToHH2MigrationFailed;
+ (void)switchToHH2AndRelaunchHomed;

- (void).cxx_destruct;
- (bool)_areWeRunningInRightEnvironment;
- (void)_clearSetupModeIfNeeded;
- (void)_makeSureWeAreRunningInRightEnvironment;
- (bool)areCloudKitServersReachable;
- (bool)autoFrameworkSwitch;
- (id /* block */)blockToBeCalledBeforeSwitchingFramework;
- (id)callbackQueueToCheckCloudKitReachability;
- (bool)checkExistenceOfHH2SentinelZone;
- (void)cloudDatabase:(id)arg1 didCreateZoneWithID:(id)arg2;
- (id)cloudDatabaseToDetectHH2Zone;
- (id)containerToCheckCloudKitReachability;
- (void)createHH2CloudDatabaseAndStartSyncing;
- (void)createHH2SentinelZoneWithCompletionHandler:(id /* block */)arg1;
- (id)dataSource;
- (void)forceFetchAllCloudZones;
- (void)handleTapToSetupFinished:(id)arg1;
- (id)homeManager;
- (id)initWithAutoSwitch:(bool)arg1 callBeforeFrameworkSwitch:(id /* block */)arg2 homeManager:(id)arg3 dataSource:(id)arg4;
- (id)initWithAutoSwitchDisabledWithHomeManager:(id)arg1;
- (id)initWithAutoSwitchEnabledWithHomeManager:(id)arg1 callBeforeFrameworkSwitchCompletionHandler:(id /* block */)arg2;
- (id)initWithAutoSwitchEnabledWithHomeManager:(id)arg1 dataSource:(id)arg2 callBeforeFrameworkSwitchCompletionHandler:(id /* block */)arg3;
- (bool)isTapToSetupOngoing;
- (void)makeSureWeAreRunningInRightEnvironment;
- (void)performInitialSync:(id /* block */)arg1;
- (void)performInitialSyncAndSwitchFrameworkIfRequired;
- (void)removeHH2SentinelZoneWithCompletion:(id /* block */)arg1;
- (void)setAutoFrameworkSwitch:(bool)arg1;
- (void)setBlockToBeCalledBeforeSwitchingFramework:(id /* block */)arg1;
- (void)setCallbackQueueToCheckCloudKitReachability:(id)arg1;
- (void)setCloudDatabaseToDetectHH2Zone:(id)arg1;
- (void)setContainerToCheckCloudKitReachability:(id)arg1;
- (void)setDataSource:(id)arg1;
- (void)setHomeManager:(id)arg1;
- (void)setIsTapToSetupOngoing:(bool)arg1;
- (void)setWorkQueue:(id)arg1;
- (void)switchToHH2AfterPerformingHH2PreRebootTask;
- (void)switchToHH2AndRelaunchHomedToPerformHH2Migration;
- (void)waitForCloudKitAccountToBeAvailable;
- (bool)waitForHH2SentinelZoneToBeCreated:(double)arg1;
- (bool)waitForHH2SentinelZoneToBeFetchedFromCloud;
- (void)waitForHH2SentinelZoneToBeRemoved;
- (id)workQueue;

@end
